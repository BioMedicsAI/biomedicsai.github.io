<!DOCTYPE html>
<html lang="fa">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>همکاری با پژوهشیار</title>

    <!-- Google Fonts -->
    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:300,400,700&display=swap">

    <!-- Font Awesome -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">

    <!-- Bootstrap -->
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css">

    <style>
        body {
            font-family: 'Open Sans', sans-serif;
            margin: 0;
            padding: 0;
            line-height: 1.6;
            color: #333;
            background: linear-gradient(135deg, #3f51b5, #64ffda, #5c6bc0);
            background-attachment: fixed;
            direction: rtl;
            text-align: right;
        }

        h1, h2, h3 {
            color: #1a237e;
        }

        p, li {
            font-size: 1.1rem;
        }

        .navbar {
            background-color: rgba(255,255,255,0.95);
            box-shadow: 0 2px 8px rgba(0,0,0,0.1);
        }

        .navbar-nav .nav-link {
            color: #1a237e;
            font-weight: 600;
        }

            .navbar-nav .nav-link:hover {
                color: #3949ab;
            }

        .section {
            padding: 80px 20px;
        }

        .card {
            border: none;
            border-radius: 12px;
            box-shadow: 0 6px 20px rgba(0,0,0,0.1);
            transition: transform 0.3s, box-shadow 0.3s;
            cursor: pointer;
            background: rgba(255,255,255,0.95);
        }

            .card:hover {
                transform: translateY(-5px);
                box-shadow: 0 10px 25px rgba(0,0,0,0.15);
            }

            .card i {
                color: #1de9b6;
                margin-bottom: 15px;
            }

        #formContainer {
            margin-top: 50px;
            display: none; /* فرم ابتدا مخفی */
        }

        footer {
            background: #1a237e;
            color: #fff;
            padding: 40px 0;
        }

            footer a {
                color: #1de9b6;
                text-decoration: none;
            }

                footer a:hover {
                    color: #fff;
                }

        .text-center {
            text-align: center;
        }
    </style>
</head>
<body>

    <!-- Navigation -->
    <div id="menu-placeholder"></div>
    <script>
        fetch('menu.html')
            .then(response => response.text())
            .then(data => {
                document.getElementById('menu-placeholder').innerHTML = data;
            });
    </script>
    <!-- Collaboration Cards Section -->
    <section class="section text-center">
        <div class="container">
            <h1>همکاری با ما</h1>
            <p>اگر می‌خواهید بخشی از تیم پژوهشیار باشید و به توسعه پژوهش‌های پیشرفته کمک کنید، می‌توانید به یکی از دسته‌های زیر بپیوندید:</p>

            <div class="row mt-5">
                <!-- اساتید -->
                <div class="col-md-4 mb-4">
                    <div class="card p-4" onclick="openCollabForm('professor')">
                        <i class="fa fa-user-tie fa-3x"></i>
                        <h3>اساتید با تخصص مرتبط</h3>
                        <p>ارائه مشاوره علمی، راهنمایی پروژه‌ها، توسعه الگوریتم‌ها و نظارت بر تیم پژوهشی.</p>
                    </div>
                </div>

                <!-- متخصصان -->
                <div class="col-md-4 mb-4">
                    <div class="card p-4" onclick="openCollabForm('expert')">
                        <i class="fa fa-user-cog fa-3x"></i>
                        <h3>متخصصان تحلیل داده و بیوانفورماتیک</h3>
                        <p>همکاری در پیش‌پردازش داده‌ها، تحلیل ژنومی و پروتئومیکس و توسعه مدل‌های یادگیری ماشین.</p>
                    </div>
                </div>

                <!-- کارآموزان و دانشجویان -->
                <div class="col-md-4 mb-4">
                    <div class="card p-4" onclick="openCollabForm('student')">
                        <i class="fa fa-user-graduate fa-3x"></i>
                        <h3>کارآموزان و دانشجویان</h3>
                        <p>یادگیری مهارت‌های عملی، مشارکت در پروژه‌ها و کمک به مصورسازی و گزارش‌دهی داده‌ها.</p>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Collaboration Form Section -->
    <section id="formContainer" class="section text-center">
        <h2 id="formTitle">فرم همکاری</h2>
        <p id="formDescription">لطفاً فرم زیر را پر کنید تا تیم ما با شما تماس بگیرد.</p>
        <iframe id="collabForm"
                width="100%"
                height="800"
                frameborder="0"
                marginheight="0"
                marginwidth="0">
            در حال بارگذاری…
        </iframe>
    </section>

    <div id="footer-placeholder"></div>

    <script>
        fetch('footer.html')
            .then(response => response.text())
            .then(data => {
                document.getElementById('footer-placeholder').innerHTML = data;
            });
    </script>

    <!-- Scripts -->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.16.0/umd/popper.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>

    <script>
        // آدرس فرم‌ها بر اساس نقش
        const forms = {
            professor: "https://docs.google.com/forms/d/e/FORM_ID_PROFESSOR/viewform?embedded=true",
            expert: "https://docs.google.com/forms/d/e/FORM_ID_EXPERT/viewform?embedded=true",
            student: "https://docs.google.com/forms/d/e/FORM_ID_STUDENT/viewform?embedded=true"
        };

        const titles = {
            professor: "فرم همکاری اساتید",
            expert: "فرم همکاری متخصصان",
            student: "فرم همکاری کارآموزان و دانشجویان"
        };

        const descriptions = {
            professor: "لطفاً فرم زیر را پر کنید تا تیم پژوهشیار با شما تماس بگیرد و بتوانید به عنوان استاد با تخصص مرتبط همکاری کنید.",
            expert: "لطفاً فرم زیر را پر کنید تا تیم پژوهشیار با شما تماس بگیرد و بتوانید به عنوان متخصص تحلیل داده و بیوانفورماتیک همکاری کنید.",
            student: "لطفاً فرم زیر را پر کنید تا تیم پژوهشیار با شما تماس بگیرد و بتوانید به عنوان کارآموز یا دانشجو همکاری کنید."
        };

        const iframe = document.getElementById('collabForm');
        const formTitle = document.getElementById('formTitle');
        const formDescription = document.getElementById('formDescription');
        const formContainer = document.getElementById('formContainer');

        // بررسی پارامتر URL
        const urlParams = new URLSearchParams(window.location.search);
        const role = urlParams.get('role');

        if (role && forms[role]) {
            openCollabForm(role);
        } else {
            formContainer.style.display = "none";
        }

        // تابع برای نمایش فرم با کلیک روی کارت
        function openCollabForm(selectedRole) {
            if (forms[selectedRole]) {
                formContainer.style.display = "block";
                iframe.src = forms[selectedRole];
                formTitle.textContent = titles[selectedRole];
                formDescription.textContent = descriptions[selectedRole];
                // اسکرول به فرم
                formContainer.scrollIntoView({ behavior: "smooth" });
            }
        }
    </script>

</body>
</html>
